(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VideoModule"],{1113:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("v-container",[r("v-card",{staticClass:"mx-auto"},[r("v-toolbar",{attrs:{color:e.navColor,dense:""}},[r("v-toolbar-title",[e._v("Video Streams")]),r("v-spacer"),r("v-btn",{attrs:{to:"/config/video",color:e.navColor}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),r("span",[e._v("configure")])],1)],1),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{dense:""}},e._l(e.videostreams,(function(t){return r("v-col",{key:t.key,attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-card",{staticClass:"mx-auto",attrs:{raised:""}},[r("v-card-title",{staticClass:"headline"},[r("span",[e._v(e._s(t.name))]),r("v-spacer"),r("v-switch",{attrs:{color:"green",label:t.enabled?"Enabled":"Disabled"},model:{value:t.enabled,callback:function(r){e.$set(t,"enabled",r)},expression:"stream.enabled"}})],1)],1)],1)})),1),Object.keys(e.videostreams).length?e._e():r("v-alert",{attrs:{outlined:"",border:"left",type:"warning"}},[r("span",[e._v("No Video Streams are defined. Please define a video stream in "),r("v-btn",{attrs:{to:"/config/video"}},[e._v("Config->Video")])],1)])],1)],1)],1),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{dense:""}},e._l(e.videostreams,(function(t){return t.enabled?r("v-col",{key:t.key,attrs:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[r("v-layout",{ref:"layout-"+t.key,refInFor:!0,attrs:{"justify-center":"",wrap:""}},[r("v-card",{staticClass:"mx-auto"},[r("v-system-bar",{attrs:{color:e.navColor,window:""}},[r("span",[e._v("Video Stream: "+e._s(t.name))])]),r("v-card-text",["playing"==e.streamStatus[t.key]?r("v-chip",{staticClass:"ma-2",attrs:{color:"green"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-check-circle")]),r("span",[e._v("Playing")])],1):"buffering"==e.streamStatus[t.key]||"stop"==t.action?r("v-chip",{staticClass:"ma-2",attrs:{color:"amber"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-alert")]),r("span",[e._v("Buffering")])],1):r("v-chip",{staticClass:"ma-2",attrs:{color:"red"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-alert-circle")]),r("span",[e._v("Stopped")])],1),r("span",[e._v("Bitrate"),r("v-chip",{staticClass:"ma-2",attrs:{color:"blue"}},[r("strong",[e._v(e._s(e.cleanBitrate(e.statBitrate[t.key])))])])],1),r("span",[e._v("Packet Loss"),r("v-chip",{staticClass:"ma-2",attrs:{color:"red"}},[r("strong",[e._v(e._s(e.statPacketloss[t.key]))])])],1)],1),r("VideoStream",{attrs:{config:{url:t.webrtcEndpoint},videostream:t.key,width:e.refWidth("layout-"+t.key),stream:1,action:t.action},on:{status:function(r){return e.updateStatus(t.key,r)},packetloss:function(r){return e.updatePacketloss(t.key,r)},bitrate:function(r){return e.updateBitrate(t.key,r)}}})],1)],1)],1):e._e()})),1)],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("video",{staticClass:"ma2 pa0",attrs:{id:e.videostream,controls:"",autoPictureInPicture:"",muted:"",preload:"none",poster:"/img/placeholders/video-placeholder.png",width:e.width},domProps:{muted:!0}})},i=[],o=(r("99af"),r("7db0"),r("4160"),r("a9e3"),r("159b"),r("a811")),c={props:{config:{type:Object,default:null},stream:{type:Number,default:null},width:{type:Number,default:500},videostream:{type:String,default:null},action:{type:String,default:null}},data:function(){return{lastStats:null,streaming:null}},watch:{action:{handler:function(e){this.logDebug("action: ".concat(e,", ").concat(this.action)),"start"==this.action?this.streaming.start():"pause"==this.action?this.stremaing.pause():"stop"==this.action&&this.streaming.stop()}}},beforeDestroy:function(){clearInterval(this.bitrateInterval),clearInterval(this.bufferingInterval)},mounted:function(){var e=this,t=this.janus=new o["Janus"](this.config,console);this.streaming=new o["StreamingJanusPlugin"](console,!1);var r=new RTCPeerConnection,n=0,a=0;this.bitrateInterval=setInterval((function(){var t=r.getReceivers().find((function(e){var t=e.kind;return"video"==t}));r.getStats(t).then((function(t){return t.forEach((function(t){"inbound-rtp"==t.type&&(e.lastStats&&(a=t.packetsLost,n=(t.bytesReceived-e.lastStats.bytesReceived)/(t.lastPacketReceivedTimestamp-e.lastStats.lastPacketReceivedTimestamp)),e.lastStats=t)}))})),e.$emit("bitrate",n),e.$emit("packetloss",a)}),1e3),this.$emit("status","init"),t.connect().then((function(){return t.addPlugin(e.streaming)})).then((function(){return r.onicecandidate=function(t){t.candidate&&t.candidate.candidate?e.streaming.candidate({candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex}):e.streaming.candidate({completed:!0})},r.onaddstream=function(t){var r=document.getElementById(e.videostream);if(r.srcObject=t.stream,r.play(),void 0==e.bufferingInterval){var n=0;e.bufferintInterval=setInterval((function(){n!=r.currentTime||r.paused?e.$emit("status","playing"):e.$emit("status","buffering"),n=r.currentTime}),500)}},e.streaming.on("statusChange",(function(t){e.$emit("status",t)})),e.streaming.watch(e.stream)})).then((function(e){return r.setRemoteDescription(new RTCSessionDescription(e))})).then((function(){return r.createAnswer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})})).then((function(t){return r.setLocalDescription(t),e.streaming.start(t)})).then((function(e){e.body,e.json}))},methods:{}},u=c,p=r("2877"),l=Object(p["a"])(u,s,i,!1,null,null,null),d=l.exports,f={name:"VideoModule",components:{VideoStream:d},data:function(){return{actionState:"start",streamStatus:{nano:null,raspberry:null},statBitrate:{nano:null,raspberry:null},statPacketloss:{nano:null,raspberry:null},bitrate:"256",resolution:"720p",activeStream:null,width:500}},computed:{videostreams:function(){return this.$store.state.data.videostreams}},watch:{},mounted:function(){var e=this;window.addEventListener("resize",(function(){e.width=.75*window.innerWidth}))},methods:{updateStatus:function(e,t){this.streamStatus.hasOwnProperty(e)?this.streamStatus[e]=t:this.$set(this.streamStatus,e,t)},updateBitrate:function(e,t){this.statBitrate.hasOwnProperty(e)?this.statBitrate[e]=t:this.$set(this.statBitrate,e,t)},updatePacketloss:function(e,t){this.statPacketloss.hasOwnProperty(e)?this.statPacketloss[e]=t:this.$set(this.statPacketloss,e,t)},changeStream:function(e){this.activeStream=e},cleanBitrate:function(e){return e/1e3<1e3?Math.round(e/1e3)+" K":Math.round(e/1e6)+" M"},refWidth:function(e){var t=null;try{t=this.$refs[e][0].clientWidth}catch(r){}return t}}},m=f,h=r("6544"),v=r.n(h),y=r("0798"),g=r("8336"),b=r("b0af"),P=r("99d9"),w=r("cc20"),x=r("62ad"),S=r("a523"),k=r("a75b"),L=r("132d"),C=r("a722"),_=r("0fd9"),I=r("2fa4"),E=r("b73d"),T=r("afd9"),O=r("71d9"),M=r("2a7f"),R=Object(p["a"])(m,n,a,!1,null,"7251af48",null);t["default"]=R.exports;v()(R,{VAlert:y["a"],VBtn:g["a"],VCard:b["a"],VCardText:P["b"],VCardTitle:P["c"],VChip:w["a"],VCol:x["a"],VContainer:S["a"],VContent:k["a"],VIcon:L["a"],VLayout:C["a"],VRow:_["a"],VSpacer:I["a"],VSwitch:E["a"],VSystemBar:T["a"],VToolbar:O["a"],VToolbarTitle:M["b"]})},"282b":function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},n.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},n.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var r={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1];break}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),a=0;a<n.length;a++)t=n[a].trim().split("="),r[t[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){var r=n.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:r.map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},n.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},n.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?n.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},n.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},n.getCryptoParameters=function(e,t){var r=n.matchPrefix(e+t,"a=crypto:");return r.map(n.parseCryptoLine)},n.getIceParameters=function(e,t){var r=n.matchPrefix(e+t,"a=ice-ufrag:")[0],a=n.matchPrefix(e+t,"a=ice-pwd:")[0];return r&&a?{usernameFragment:r.substr(12),password:a.substr(10)}:null},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e),a=r[0].split(" "),s=3;s<a.length;s++){var i=a[s],o=n.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(o){var c=n.parseRtpMap(o),u=n.matchPrefix(e,"a=fmtp:"+i+" ");switch(c.parameters=u.length?n.parseFmtp(u[0]):{},c.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(n.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return n.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(n.parseExtmap(e))})),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)}));var a=0;return t.codecs.forEach((function(e){e.maxptime>a&&(a=e.maxptime)})),a>0&&(r+="a=maxptime:"+a+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=n.writeExtmap(e)})),r},n.parseRtpEncodingParameters=function(e){var t,r=[],a=n.parseRtpParameters(e),s=-1!==a.fecMechanisms.indexOf("RED"),i=-1!==a.fecMechanisms.indexOf("ULPFEC"),o=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=o.length>0&&o[0].ssrc,u=n.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),a.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),s&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:c,mechanism:i?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&c&&r.push({ssrc:c});var p=n.matchPrefix(e,"b=");return p.length&&(p=0===p[0].indexOf("b=TIAS:")?parseInt(p[0].substr(7),10):0===p[0].indexOf("b=AS:")?1e3*parseInt(p[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=p}))),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var a=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=a.length>0,t.compound=0===a.length;var s=n.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var a=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return a.length>0?(t=a[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},n.parseSctpDescription=function(e){var t,r=n.parseMLine(e),a=n.matchPrefix(e,"a=max-message-size:");a.length>0&&(t=parseInt(a[0].substr(19),10)),isNaN(t)&&(t=65536);var s=n.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:r.fmt,maxMessageSize:t};var i=n.matchPrefix(e,"a=sctpmap:");if(i.length>0){var o=n.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:t}}},n.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t,r){var a,s=void 0!==t?t:2;a=e||n.generateSessionId();var i=r||"thisisadapterortc";return"v=0\r\no="+i+" "+a+" "+s+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,a){var s=n.writeRtpDescription(e.kind,t);if(s+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var i="msid:"+a.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),s},n.getDirection=function(e,t){for(var r=n.splitLines(e),a=0;a<r.length;a++)switch(r[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[a].substr(2);default:}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){var t=n.splitLines(e),r=t[0].split(" ");return r[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e),r=t[0].substr(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0],r=t.substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},n.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},e.exports=n},faa1:function(e,t,r){"use strict";var n,a="object"===typeof Reflect?Reflect:null,s=a&&"function"===typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function i(e){console&&console.warn&&console.warn(e)}n=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function p(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var a,s,o;if(p(r),s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"===typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=l(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,i(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=f.bind(n);return a.listener=r,n.wrapFn=a,a}function h(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"===typeof a?r?[a.listener||a]:[a]:r?b(a):y(a,a.length)}function v(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return l(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var c=a[e];if(void 0===c)return!1;if("function"===typeof c)s(c,this,t);else{var u=c.length,p=y(c,u);for(r=0;r<u;++r)s(p[r],this,t)}return!0},c.prototype.addListener=function(e,t){return d(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return d(this,e,t,!0)},c.prototype.once=function(e,t){return p(t),this.on(e,m(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return p(t),this.prependListener(e,m(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,a,s,i;if(p(t),n=this._events,void 0===n)return this;if(r=n[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(a=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){i=r[s].listener,a=s;break}if(a<0)return this;0===a?r.shift():g(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,s=Object.keys(r);for(n=0;n<s.length;++n)a=s[n],"removeListener"!==a&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return h(this,e,!0)},c.prototype.rawListeners=function(e){return h(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}}}]);
//# sourceMappingURL=VideoModule.f79e3c7f.js.map