(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigConnections"],{e5c6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-data-iterator",{attrs:{items:t.items,"item-key":"key","hide-default-footer":"","single-expand":t.expand},scopedSlots:t._u([{key:"header",fn:function(){return[i("v-toolbar",{staticClass:"mb-1",attrs:{color:"primary lighten-1",dense:""}},[i("v-toolbar-title",[t._v("API Connections")]),i("v-spacer"),i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus-box")]),i("span",[t._v("Add API Connection")])],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[i("v-alert",{staticClass:"ma-8",attrs:{border:"left",outlined:"",type:"primary"}},[i("span",[t._v("No API Connections are defined."),i("v-btn",{staticClass:"ml-2",attrs:{color:t.navColor+" darken-2",small:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[i("span",[t._v("Add API Connection")])])],1)])]},proxy:!0},{key:"default",fn:function(e){var n=e.items,a=e.isExpanded,o=e.expand;return[i("v-row",t._l(n,(function(e){return i("v-col",{key:e.key,attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[i("v-card",[i("v-toolbar",{attrs:{dense:""}},[i("v-toolbar-title",[i("span",[t._v(t._s(e.name))]),t.isApiReady(e.key)?i("v-chip",{staticClass:"ma-2",attrs:{color:"success",small:""}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-check-circle")]),i("span",[t._v("Connected")])],1):i("v-chip",{staticClass:"ma-2",attrs:{color:"error",small:""}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-alert-circle")]),i("span",[t._v("Not Connected")])],1)],1),i("v-spacer"),i("v-switch",{staticClass:"mt-4",attrs:{color:t.navColor,"input-value":a(e),label:a(e)?"Editing":"Edit"},on:{change:function(t){return o(e,t)}}})],1)],1),a(e)?i("v-row",[i("v-container",{staticClass:"mt-0 pt-0",attrs:{fluid:""}},[i("v-card",[i("v-row",[i("v-col",{staticClass:"pt-0 pr-1",attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"API Name/Description"},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"GraphQL Endpoint"},model:{value:e.httpEndpoint,callback:function(i){t.$set(e,"httpEndpoint",i)},expression:"item.httpEndpoint"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Websockets Endpoint"},model:{value:e.wsEndpoint,callback:function(i){t.$set(e,"wsEndpoint",i)},expression:"item.wsEndpoint"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Schema Endpoint"},model:{value:e.schemaEndpoint,callback:function(i){t.$set(e,"schemaEndpoint",i)},expression:"item.schemaEndpoint"}})],1)],1),i("v-list-item",[i("v-btn",{attrs:{color:"success"},on:{click:function(i){return t.save(e)}}},[t._v("Save")]),i("v-btn",{staticClass:"ml-2",attrs:{color:"blue"},on:{click:function(i){return t.connect(e)}}},[t._v("Connect")]),i("v-spacer"),i("v-btn",{attrs:{color:"error"},on:{click:function(i){return t.remove(e)}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),i("span",[t._v("Delete")])],1)],1)],1)],1),i("v-col",{staticClass:"pt-0 pl-1",attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-content",[t._v("API Unique ID")]),i("v-list-item-content",[t.apistate[e.key].uuid?i("span",{staticClass:"success--text text--lighten-1"},[t._v(t._s(t.apistate[e.key].uuid))]):i("v-icon",{attrs:{color:"error"}},[t._v("mdi-alert-circle-outline")])],1)],1),i("v-list-item",[i("v-list-item-content",[t._v("API Last Seen")]),i("v-list-item-content",[t.lastseen(e.key)<60?i("span",{staticClass:"success--text text--lighten-1"},[t._v(t._s(t.lastseen(e.key).toFixed(2))+" seconds ago")]):i("span",{staticClass:"error--text text--lighten-1"},[t._v(t._s(t.lastseen(e.key).toFixed(2))+" seconds ago")])])],1),i("v-list-item",[i("v-list-item-content",[t._v("API Connection State")]),i("v-list-item-content",[t.apistate[e.key].state?i("v-icon",{attrs:{color:"success"}},[t._v("mdi-check-circle-outline")]):i("v-icon",{attrs:{color:"error"}},[t._v("mdi-alert-circle-outline")])],1)],1),i("v-list-item",[i("v-list-item-content",[t._v("API Schema Ready")]),i("v-list-item-content",[t.apistate[e.key].schemaready?i("v-icon",{attrs:{color:"success"}},[t._v("mdi-check-circle-outline")]):i("v-icon",{attrs:{color:"error"}},[t._v("mdi-alert-circle-outline")])],1)],1),i("v-list-item",[i("v-list-item-content",[t._v("Authentication Set")]),i("v-list-item-content",[t.apistate[e.key].auth?i("v-icon",{attrs:{color:"success"}},[t._v("mdi-check-circle-outline")]):i("v-icon",{attrs:{color:"error"}},[t._v("mdi-alert-circle-outline")])],1)],1),i("v-list-item",[i("v-list-item-content",[t._v("Icon Set")]),i("v-list-item-content",[t._v(t._s(t.apistate[e.key].icon)),t.apistate[e.key].icon?i("v-icon",{attrs:{color:"success"}},[t._v(t._s(t.apistate[e.key].icon))]):i("v-icon",{attrs:{color:"error"}},[t._v("mdi-alert-circle-outline")])],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)})),1)]}}])}),i("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus-box")]),i("span",[t._v("Add API Connection")])],1),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{label:"API Key (Short)",required:""},model:{value:t.newitem.key,callback:function(e){t.$set(t.newitem,"key",e)},expression:"newitem.key"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"API Name/Description",required:""},model:{value:t.newitem.name,callback:function(e){t.$set(t.newitem,"name",e)},expression:"newitem.name"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"Hostname (FQDN) / IP Address",required:""},model:{value:t.newitem.hostname,callback:function(e){t.$set(t.newitem,"hostname",e)},expression:"newitem.hostname"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"Port",required:""},model:{value:t.newitem.port,callback:function(e){t.$set(t.newitem,"port",e)},expression:"newitem.port"}})],1)],1)],1)],1),i("v-card-actions",[i("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){return t.createConnection()}}},[t._v("Create Connection")]),i("v-btn",{staticClass:"ma-2",attrs:{color:"error"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")])],1)],1)],1),t.deleteitem?i("v-dialog",{attrs:{"max-width":"400"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline error--text"},[t._v("Delete Connection: "),i("strong",[t._v(t._s(t.deleteitem.key))]),t._v("?")])]),i("v-card-text",[i("h3",[t._v(t._s(t.deleteitem.name))]),i("div",[t._v("Are you sure you want to delete this API connection?")])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{text:"",color:"error darken-1"},on:{click:function(e){return t.removeConnection()}}},[t._v("Delete")])],1)],1)],1):t._e()],1)},a=[],o=(i("99af"),i("b0c0"),i("07ac"),i("2532"),{name:"ConfigConnections",components:{},data:function(){return{search:"",filter:{},dialog:!1,deleteDialog:!1,newitem:{},deleteitem:null,expand:!0}},computed:{items:function(){return Object.values(this.apis)}},methods:{lastseen:function(t){var e=this.apistate&&this.apistate.hasOwnProperty(t)?this.apistate[t].lastseen:0;return performance.now()-e},save:function(t){this.$store.commit("data/setApiData",{api:t.key,data:t})},connect:function(t){this.logDebug("Connecting: "+t.key),this.$apollo.provider.clients[t.key]||this.createClient(t.key,this.apis[t.key])},createConnection:function(){this.dialog=!1,this.logDebug("Creating new connection: "+this.newitem.key);var t="http:",e=t.includes("https")?"wss:":"ws:",i={key:this.newitem.key,httpEndpoint:"".concat(t,"//").concat(this.newitem.hostname,":").concat(this.newitem.port,"/graphql"),wsEndpoint:"".concat(e,"//").concat(this.newitem.hostname,":").concat(this.newitem.port,"/subscriptions"),schemaEndpoint:"".concat(t,"//").concat(this.newitem.hostname,":").concat(this.newitem.port,"/schema"),websocketsOnly:!1,name:this.newitem.name,colorLight:"rgba(166,11,11,0.3)",colorDark:"rgba(166,11,11,0.9)",authToken:null};this.$store.commit("data/addApi",{key:i.key,data:i})},remove:function(t){this.deleteitem=t,this.deleteDialog=!0},removeConnection:function(){this.logDebug("Deleting connection:"+this.deleteitem.key),this.logDebug(this.activeApi),this.deleteitem.key==this.activeApi&&(this.logDebug("Unsetting active connection"),this.$store.commit("data/setActiveApi",null)),delete this.$apollo.provider.clients[this.deleteitem.key],this.$store.commit("data/removeApi",this.deleteitem.key),this.deleteitem=null}}}),s=o,c=i("2877"),l=i("6544"),r=i.n(l),v=i("0798"),d=i("8336"),m=i("b0af"),p=i("99d9"),u=i("cc20"),h=i("62ad"),k=i("a523"),f=i("c377"),_=i("169a"),b=i("132d"),y=i("8860"),g=i("da13"),C=i("5d23"),w=i("0fd9"),x=i("2fa4"),A=i("b73d"),D=i("8654"),V=i("71d9"),I=i("2a7f"),E=Object(c["a"])(s,n,a,!1,null,null,null);e["default"]=E.exports;r()(E,{VAlert:v["a"],VBtn:d["a"],VCard:m["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VChip:u["a"],VCol:h["a"],VContainer:k["a"],VDataIterator:f["a"],VDialog:_["a"],VIcon:b["a"],VList:y["a"],VListItem:g["a"],VListItemContent:C["a"],VRow:w["a"],VSpacer:x["a"],VSwitch:A["a"],VTextField:D["a"],VToolbar:V["a"],VToolbarTitle:I["b"]})}}]);
//# sourceMappingURL=ConfigConnections.74118dfe.js.map